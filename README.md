# T-RDF: A Task-Based Parallel System for Efficiently Answering SPARQL Queries on RDF Data

## Compile
Under the root directory of the project, use <code>make</code> to compile.

## Usage
### Step 1 (If Step 1 has been done before, please directly go to Step 2)
If user is querying on a new RDF data, please execute the following commands for adjacency list and index construction, etc. 
```
./gload [DB_FOLDER_PATH] [RDF_DATA_PATH]
```
DB_FOLDER_PATH: Path where constructed files are stored.

RDF_DATA_PATH: Path where RDF data is stored.

### Step 2
Please execute the following command to start the server side.
```
./run [DB_FOLDER_PATH] [THREAD_NUM]
```
DB_FOLDER_PATH: Path where constructed files are stored.

THREAD_NUM: Number of threads used in the server.

<em>Caveat</em>: If you see segment fault is popped out immediately, please use following command to clear messages in IPC.
```
./experiment/clear
```

### Step 3
Open a new terminal as client side, go to <code>client</code> folder, use <code>make</code> to compile and <code>./run</code> to start client.

Copy your query file **path** (absolute path is recommended) in the terminal, press enter and the results will be shown in the server side.


## RDF Data Acquisition

### [YAGO-2.3.0](https://yago-knowledge.org/downloads/yago-2)
Click Turtle and data will be downloaded automatically.

### [YAGO-2.5.3](https://yago-knowledge.org/downloads/yago-2s)
Click Full Turtle format and data will be downloaded automatically.

### [LUBM](http://swat.cse.lehigh.edu/projects/lubm)
LUBM is a synthetic dataset generated by JAVA program. Please refer to [here](https://ipads.se.sjtu.edu.cn:1312/opensource/wukong/-/blob/old-gstore/docs/INSTALL.md#preparing-rdf-datasets) for more details.

## Query Acquisition
Please refer to [here](https://github.com/lyuheng/T-RDF/tree/main/query) for all queries used in experiments and their descriptions.
